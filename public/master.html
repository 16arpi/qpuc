<!--
    À prévoir

    5 points gagants / autre à la suite
    -
-->
<title>Régie</title>
<meta charset="utf-8" />
<style>
    body {
        font-family: sans-serif;
        display: flex;
        flex-basis: 2;

    }

    .flex {
        display: flex;
    }

    #summary {
        display: flex;
        flex-direction: column;
        flex: 0 0 100px;
    }

    input {
        display: block;

    }

    .big {
        font-size: 20pt;
    }

    #panels {
        display: flex;

        flex-direction: row;
    }

    #inner-panels {
        display: flex;
        flex-wrap: wrap;
    }

    #audios {
        display: flex;
        flex-direction: column;
        flex: 0 0 100px;

        margin: 5px;
    }

    #cinq-points {
        flex: 0 0 100px;
        margin: 5px;
    }

    #quatre-points {
        flex: 0 0 100px;
        margin: 5px;
    }

    #face-face {
        flex: 0 0 100px;
        margin: 5px;
    }

    input[type=text] {
        font-size: 14pt;
    }

    /* OTHER */

    body > div {
        flex-grow: 1;
    }
    input {
        margin: 7px;
    }
    table td, table th {
        border: 1px solid #000;
    }
    table th {
        padding: 5px;
    }
    table {
        border-collapse: collapse;
    }
</style>
<div id="summary" >
    <h3>Section</h3>
    <input type="button" value="5 points gagnants" onclick="showPanel(0)">
    <input type="button" value="Themes" onclick="showPanel(1)">
    <input type="button" value="4 à la suite" onclick="showPanel(2)">
    <input type="button" value="Photo 1" onclick="showPanel(3)">
    <input type="button" value="Photo 2" onclick="showPanel(4)">
    <input type="button" value="Photo 3" onclick="showPanel(5)">
    <input type="button" value="Vidéo pub" onclick="showPanel(6)">
    <input type="button" value="Face à face" onclick="showPanel(7)">
</div>
<div id="panels">
    <div id="cinq-points" >
        <h3>5 points gagants + 4 à la suite</h3>
        <table >
            <tr>
                <td colspan="2" >
                    <div class="flex">
                        <input class="big" type="button" onclick="fivePointsError()" value="Mauvaise réponse">
                        <input class="big" type="button" onclick="fivePointsEcoule()" value="Temps écoulé">

                    </div>
                </td>
            </tr>
            <tr>
                <th>Joueur 1</th>
                <th>Joueur 2</th>
            </tr>
            <tr>
                <td><input type="text" placeholder="Nom" id="player-one-name" /></td>
                <td><input type="text" placeholder="Nom" id="player-two-name" /></td>

            </tr>
            <tr>
                <td>
                    <div class="flex" >
                        <input type="button" onclick="fivePointsScore(0, 1)" value="+1" />
                    <input type="button" onclick="fivePointsScore(0, 2)" value="+2" />
                    <input type="button" onclick="fivePointsScore(0, 3)" value="+3" />
                    <input type="button" onclick="fivePointsScore(0, 4)" value="+4" />
                    <input type="button" onclick="fivePointsScore(0, -1)" value="-1" />
                    </div>
                </td>
                <td>
                    <div class="flex" >
                        <input type="button" onclick="fivePointsScore(1, 1)" value="+1" />
                    <input type="button" onclick="fivePointsScore(1, 2)" value="+2" />
                    <input type="button" onclick="fivePointsScore(1, 3)" value="+3" />
                    <input type="button" onclick="fivePointsScore(1, 4)" value="+4" />
                    <input type="button" onclick="fivePointsScore(1, -1)" value="-1" />

                    </div>
                </td>

            </tr>
            <tr>
                <th>Joueur 3</th>
                <th>Joueur 4</th>
            </tr>
            <tr>
                <td><input type="text" placeholder="Nom" id="player-three-name" /></td>
                <td><input type="text" placeholder="Nom" id="player-four-name" /></td>

            </tr>
            <tr>
                <td>
                    <div class="flex" >
                        <input type="button" onclick="fivePointsScore(2, 1)" value="+1" />
                    <input type="button" onclick="fivePointsScore(2, 2)" value="+2" />
                    <input type="button" onclick="fivePointsScore(2, 3)" value="+3" />
                    <input type="button" onclick="fivePointsScore(2, 4)" value="+4" />
                    <input type="button" onclick="fivePointsScore(2, -1)" value="-1" />
                    </div>
                </td>
                <td>
                    <div class="flex">
                        <input type="button" onclick="fivePointsScore(3, 1)" value="+1" />
                    <input type="button" onclick="fivePointsScore(3, 2)" value="+2" />
                    <input type="button" onclick="fivePointsScore(3, 3)" value="+3" />
                    <input type="button" onclick="fivePointsScore(3, 4)" value="+4" />
                    <input type="button" onclick="fivePointsScore(3, -1)" value="-1" />
                    </div>
                </td>
            </tr>
            <tr >
                <td colspan="2">
                    <div class="flex" >
                        <input type="button" onclick="fivePointsNames()" value="Afficher les noms">
                        <input type="button" onclick="fivePointsResetScores()" value="Mettre les scores à zero">
                    </div>
                    <div class="flex" >
                        <input type="button" onclick="fivePointsAddPlayer()" value="Ajouter un joueur">

                        <input type="button" onclick="fivePointsRemovePlayer()" value="Enlever un joueur">
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div id="inner-panels" >
        <div id="audios" >
            <h3>Général</h3>
            <input class="big" type="button" value="Jingle court" onclick="jingleCourt()">
            <input type="button" value="Jingle long" onclick="jingleLong()">
            <input type="button" value="Entrée animateur + candidats PLAY" onclick="jingleAnimateurStart()" />
            <input type="button" value="Entrée animateur + candidats STOP" onclick="jingleAnimateurPause()"/>
        </div>
        <div id="quatre-suite" >
            <h3>4 à la suite</h3>
            <table>
                <tr>
                    <td>
                        <div class="flex" >
                            <input class="big" type="button" onclick="suiteAddPoint()" value="+1 au score">
                            <input class="big" type="button" onclick="suiteZero()" value="Mettre à zero">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="flex" style="align-items:center" >
                            jingle choix du thème
                        <input type="button" value="play" onclick="jingleChoixThemeStart()" />
                        <input type="button" value="pause" onclick="jingleChoixThemePause()"/>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="flex" >
                            <input type="text" placeholder="Thème" id="suite-theme" />
                        <input type="button" onclick="suiteTheme()" value="Afficher le thème" />
                        </div>
                    </td>
                </tr>
                <tr >
                    <td >
                        <div class="flex" >

                            <input type="button" onclick="suiteStart()" value="Lancer chrono">
                            <input type="button" onclick="suiteReset()" value="Reset chrono">
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div id="face-face">
            <h3>Face à face</h3>
            <table >
                <tr>
                    <td colspan="2" >
                        <div class="flex" >
                            <input class="big" type="button" onclick="faceFaceTop()" value="Play/Pause">
                            <input class="big" type="button" onclick="faceFaceError()" value="Erreur">
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>Joueur gauche</th>
                    <th>Joueur droite</th>
                </tr>
                <tr>
                    <td><input type="text" placeholder="Nom" id="player-left-name" /></td>
                    <td><input type="text" placeholder="Nom" id="player-right-name" /></td>

                </tr>
                <tr>
                    <td>
                        <div class="flex" >
                            <input type="button" onclick="setMain(true)" value="À la main" />
                        <input type="button" onclick="faceFaceScore(0, 1)" value="+1" />
                        <input type="button" onclick="faceFaceScore(0, 2)" value="+2" />
                        <input type="button" onclick="faceFaceScore(0, 3)" value="+3" />
                        <input type="button" onclick="faceFaceScore(0, 4)" value="+4" />
                        <input type="button" onclick="faceFaceScore(0, -1)" value="-1" />
                        </div>
                    </td>
                    <td>
                        <div class="flex" >
                            <input type="button" onclick="setMain(false)" value="À la main" />
                        <input type="button" onclick="faceFaceScore(1, 1)" value="+1" />
                        <input type="button" onclick="faceFaceScore(1, 2)" value="+2" />
                        <input type="button" onclick="faceFaceScore(1, 3)" value="+3" />
                        <input type="button" onclick="faceFaceScore(1, 4)" value="+4" />
                        <input type="button" onclick="faceFaceScore(1, -1)" value="-1" />
                        </div>
                    </td>
                </tr>
                <tr >
                    <td colspan="2">
                        <div class="flex" >
                            <input type="button" onclick="faceFaceSetNames()" value="Afficher les noms">
                        <input type="button" onclick="faceFaceResetScore()" value="Reset score">
                        <input type="button" onclick="faceFaceResetClepsydre()" value="Reset chrono">

                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
    /* five points */
    const sockets = io('http://localhost:8081');

    const audioAnimateur = new Audio('/audio/entree_animateur.mp3')
    const audioJingleLong = new Audio('/audio/jingle_long.mp3')
    const audioJingleCourt = new Audio('/audio/jingle_court.mp3')
    const audioChoixTheme = new Audio('/audio/choix_theme.mp3')

    audioChoixTheme.loop = true;

    // summary

    function showPanel(pos) {
        sockets.emit('change panel', pos);
    }

    // jingles

    function jingleLong() {
        audioJingleLong.play();
    }

    function jingleCourt() {
        audioJingleCourt.play();
    }

    function jingleAnimateurStart() {
        audioAnimateur.play();
    }

    function jingleAnimateurPause() {
        audioAnimateur.pause();
        audioAnimateur.currentTime = 0;
    }

    function fivePointsScore(pos, points) {
        sockets.emit('five points add score', pos, points)
    }

    function fivePointsNames() {
        let n1 = document.getElementById("player-one-name").value;
        let n2 = document.getElementById("player-two-name").value;
        let n3 = document.getElementById("player-three-name").value;
        let n4 = document.getElementById("player-four-name").value;
        sockets.emit('five points set names', n1, n2, n3, n4)
    }

    function fivePointsRemovePlayer() {
        sockets.emit('five points remove player')
    }

    function fivePointsAddPlayer() {
        sockets.emit('five points add player')
    }

    function fivePointsResetScores() {
        sockets.emit('five points reset scores')
    }

    function fivePointsEcoule() {
        sockets.emit('five points ecoule')
    }

    function fivePointsError() {
        sockets.emit('five points error')
    }

    /* quatre suite */

    function jingleChoixThemeStart() {
        audioChoixTheme.play();
    }

    function jingleChoixThemePause() {
        audioChoixTheme.pause();
        audioChoixTheme.currentTime = 0;
    }

    function suiteTheme() {
        let theme = document.getElementById('suite-theme').value;
        sockets.emit('suite set theme', theme)
    }

    function suiteAddPoint() {
        sockets.emit('suite add point')
    }

    function suiteZero() {
        sockets.emit('suite set zero')
    }

    function suiteStart() {
        sockets.emit('suite start')
    }

    function suiteReset() {
        sockets.emit('suite reset')
    }

    /* face face */

    function faceFaceScore(pos, points) {
        sockets.emit('face face set score', pos, points)
    }

    function setMain(left) {
        sockets.emit('face face set main', left)
    }

    function faceFaceSetNames() {
        let nameLeft = document.getElementById('player-left-name').value;
        let nameRight = document.getElementById('player-right-name').value;
        sockets.emit('face face set names', nameLeft, nameRight)
    }

    function faceFaceResetScore() {
        sockets.emit('face face reset scores')
    }

    function faceFaceTop() {
        sockets.emit('face face top')
    }

    function faceFaceError() {
        sockets.emit('face face error')
    }

    function faceFaceResetClepsydre() {
        sockets.emit('face face reset clepsydre')
    }


</script>
